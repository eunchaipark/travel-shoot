<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Travel Shoot</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link href="../css/common.css" rel="stylesheet" />
  </head>
  <body>
    <!-- Version 1 헤더 (검색창이 있는 상세한 헤더) -->
    <header class="app-header">
      <div class="container">
        <div class="row">
          <div class="col-12 d-flex align-items-center justify-content-evenly">
            <div class="col-sm-1 col-lg-1 col-2">
              <a href="/">
                <div class="logo" role="img" aria-label="트래블샷 아이콘"></div>
              </a>
            </div>
            <div class="col-sm-7 col-lg-8 col-6">
              <div class="search-container position-relative">
                <div class="row g-0 align-items-center">
                  <div class="col-12 col-xxl-5 d-flex align-items-center">
                    <div
                      class="col-2 position-relative search-input-icon location-icon"
                      role="img"
                    ></div>
                    <input
                      type="text"
                      class="search-input position-relative flex-grow-1 ms-1"
                      placeholder="SL 호텔 강릉"
                      value="SL 호텔 강릉"
                    />
                    <!-- 드롭다운 suggestions -->
                    <div class="dropdown-suggestions d-none">
                      <button class="suggestion-item">
                        <i class="fas fa-building"></i>
                        <div>
                          <div class="fw-bold">SL 호텔 강릉</div>
                          <small class="text-muted"
                            >강릉특별자치도 강릉시 OO----</small
                          >
                        </div>
                      </button>
                      <button class="suggestion-item">
                        <i class="fas fa-home"></i>
                        <div>
                          <div class="fw-bold">유담리솜펜션</div>
                          <small class="text-muted"
                            >강릉특별자치도 강릉시 OO----</small
                          >
                        </div>
                      </button>
                      <button class="suggestion-item">
                        <i class="fas fa-building"></i>
                        <div>
                          <div class="fw-bold">강릉씨고호텔</div>
                          <small class="text-muted"
                            >강릉특별자치도 강릉시 OO----</small
                          >
                        </div>
                      </button>
                    </div>
                  </div>
                  <div class="col-auto search-divider-con">
                    <div class="search-divider mx-3"></div>
                  </div>
                  <div class="col-lg-auto col-md-12 d-flex align-items-center">
                    <div
                      class="col-2 position-relative search-input-icon calendar-icon"
                      role="img"
                    ></div>

                    <span
                      class="ms-2 text-muted position-relative text-nowrap fw-medium"
                      id="dateDisplay"
                      style="cursor: pointer"
                      >09.08(월) ~ 09.10(수)</span
                    >
                    <!-- 캘린더 드롭다운 -->
                  </div>
                  <div class="col-auto search-divider-con">
                    <div class="search-divider mx-3"></div>
                  </div>
                  <div class="col-lg-auto col-md-12 d-flex align-items-center">
                    <div
                      class="col-2 position-relative search-input-icon user-icon"
                      role="img"
                    ></div>
                    <span
                      class="ms-2 text-muted position-relative text-nowrap fw-medium"
                      id="guestDisplay"
                      style="cursor: pointer"
                      >성인 2명</span
                    >
                    <!-- 인원 선택 드롭다운 -->
                    <div class="guest-dropdown" id="guestDropdown">
                      <div class="guest-type">
                        <div class="guest-info">
                          <h6>성인</h6>
                          <small>18세 이상</small>
                        </div>
                        <div class="counter-controls">
                          <button
                            class="counter-btn"
                            onclick="changeGuest('adult', -1)"
                          >
                            -
                          </button>
                          <span id="adultCount">2</span>
                          <button
                            class="counter-btn"
                            onclick="changeGuest('adult', 1)"
                          >
                            +
                          </button>
                        </div>
                      </div>
                      <div class="guest-type">
                        <div class="guest-info">
                          <h6>어린이</h6>
                          <small>0 - 17세</small>
                        </div>
                        <div class="counter-controls">
                          <button
                            class="counter-btn"
                            onclick="changeGuest('child', -1)"
                          >
                            -
                          </button>
                          <span id="childCount">0</span>
                          <button
                            class="counter-btn"
                            onclick="changeGuest('child', 1)"
                          >
                            +
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-3 col-3 px-0">
              <button class="icon-button">
                <div class="search-icon"></div>
              </button>
              <button class="icon-button">
                <div class="user-white-icon"></div>
              </button>
              <button class="icon-button">
                <div class="heart-icon"></div>
              </button>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- 메인 컨텐츠 영역 (데모용) -->
    <main class="content-area">
      <h1>영역</h1>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // 글로벌 변수
      let adultCount = 2;
      let childCount = 0;

      document.addEventListener("DOMContentLoaded", function () {
        // 검색창 포커스 시 드롭다운 표시 (데모용)
        const searchInput = document.querySelector(".search-input");
        const dropdown = document.querySelector(".dropdown-suggestions");

        if (searchInput && dropdown) {
          searchInput.addEventListener("focus", function () {
            dropdown.classList.remove("d-none");
          });

          document.addEventListener("click", function (e) {
            if (
              !searchInput.contains(e.target) &&
              !dropdown.contains(e.target)
            ) {
              dropdown.classList.add("d-none");
            }
          });
        }

        // 날짜 선택 드롭다운
        const dateDisplay = document.getElementById("dateDisplay");
        const calendarDropdown = document.getElementById("calendarDropdown");

        if (dateDisplay && calendarDropdown) {
          dateDisplay.addEventListener("click", function (e) {
            e.stopPropagation();
            calendarDropdown.style.display =
              calendarDropdown.style.display === "block" ? "none" : "block";
            // 다른 드롭다운 닫기
            const guestDropdown = document.getElementById("guestDropdown");
            if (guestDropdown) guestDropdown.style.display = "none";
          });
        }

        // 인원 선택 드롭다운
        const guestDisplay = document.getElementById("guestDisplay");
        const guestDropdown = document.getElementById("guestDropdown");

        if (guestDisplay && guestDropdown) {
          guestDisplay.addEventListener("click", function (e) {
            e.stopPropagation();
            guestDropdown.style.display =
              guestDropdown.style.display === "block" ? "none" : "block";
            // 다른 드롭다운 닫기
            const calendarDropdown =
              document.getElementById("calendarDropdown");
            if (calendarDropdown) calendarDropdown.style.display = "none";
          });
        }

        // 외부 클릭 시 드롭다운 닫기
        document.addEventListener("click", function (e) {
          if (
            calendarDropdown &&
            !calendarDropdown.contains(e.target) &&
            !dateDisplay.contains(e.target)
          ) {
            calendarDropdown.style.display = "none";
          }
          if (
            guestDropdown &&
            !guestDropdown.contains(e.target) &&
            !guestDisplay.contains(e.target)
          ) {
            guestDropdown.style.display = "none";
          }
        });

        // 캘린더 날짜 클릭
        const calendarDays = document.querySelectorAll(".calendar-day");
        calendarDays.forEach((day) => {
          day.addEventListener("click", function () {
            if (!this.classList.contains("other-month")) {
              // 기존 선택 제거
              calendarDays.forEach((d) => d.classList.remove("selected"));
              // 새로운 선택 추가
              this.classList.add("selected");
            }
          });
        });
      });

      // 인원 수 변경 함수
      function changeGuest(type, change) {
        if (type === "adult") {
          adultCount = Math.max(1, adultCount + change);
          document.getElementById("adultCount").textContent = adultCount;
        } else if (type === "child") {
          childCount = Math.max(0, childCount + change);
          document.getElementById("childCount").textContent = childCount;
        }

        // 디스플레이 업데이트
        updateGuestDisplay();
      }

      // 인원 표시 업데이트
      function updateGuestDisplay() {
        let displayText = `성인 ${adultCount}명`;
        if (childCount > 0) {
          displayText += `, 어린이 ${childCount}명`;
        }
        document.getElementById("guestDisplay").textContent = displayText;
      }
    </script>
  </body>
</html>
